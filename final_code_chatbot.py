# -*- coding: utf-8 -*-
"""Final_code_chatbot.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1I1AgnSk78nzFCaufYtVBl-klCK3VVlJj
"""


import gradio
from groq import Groq
client = Groq(api_key="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",)
def initialize_messages():
    return [{"role": "system",
             "content": "Welcome to VedAyu! I’m your personal AYUSH assistant, here to guide you on Ayurveda, Yoga, Naturopathy, Unani, Siddha, and Homeopathy. Ask me anything about holistic wellness, herbal remedies, yoga practices, diet tips, or traditional healing methods. How can I assist you on your wellness journey today?"}]
messages_prmt = initialize_messages()
ayush_keywords = [
    "ayurveda", "yoga", "naturopathy", "unani", "siddha", "homeopathy","youtube",
    "herbal", "meditation", "pranayama", "dosha", "asanas","severe", "detox", "holistic","issue","care","issues","care","cure","problems","therapy","diet","mindset","mental health","depression","anti",
    "natural healing", "wellness", "herbs", "traditional medicine","remedies", "alternative therapy","food","immunity","Energy","organic","Wellness","supplements",
    "home remedies", "acupuncture", "ayush", "energy healing", "chakras","help","soluton","discomfort","medicine","problem","ayurvedic","medicines","India","Kerala","reduce","Doctor","stress","symptoms","symptom", "relief"
    "Healthcare","Diagnosis","Treatment","Symptoms","Therapy","Prescription","Pathology","Pharmacology","Clinical Trials","Telemedicine","Integrative Medicine","Alternative Medicine","Immunology","Chronic Diseases","Preventive Healthcare","Doshas","Vata","Pitta","Kapha","Panchakarma","Herbal Remedies","Ayurvedic Diet","Rasayana Therapy","Siddha Medicine","Prakriti Analysis","Ayurvedic Oils","Nadi Pariksha","Shodhana Therapy","Churna","Bhasma","Taila","Kashaya","Ayurvedic Massage","Abhyanga","Swedana","Ayurvedic Herbs","Ashwagandha","Brahmi","Neem","Tulsi","Shatavari","Triphala","Yoga Therapy","Pranayama","Asanas","Meditation","Mudra Therapy","Unani Medicine","Ilaj-bit-Tadbeer","Hijama","Regimental Therapy","Unani Herbs","Kushta","Unani Diet","Unani Diagnosis","Tibb-e-Unani","Siddha Medicine","Siddha Herbs","Vaithiyam","Siddha Maruthuvam","Siddha Oils","Kayakalpa","Pulse Diagnosis","Homeopathy","Homeopathic Remedies","Potentization","Materia Medica","Organon of Medicine","Homeopathic Dilutions","Biochemic Medicine","Similia Similibus Curentur","Disease Management","Infectious Diseases","Chronic Conditions","Autoimmune Disorders","Neurological Disorders","Cardiovascular Diseases","Respiratory Diseases","Gastrointestinal Disorders","Metabolic Disorders","Endocrine Disorders","Musculoskeletal Disorders","Dermatological Diseases","Pediatric Diseases","Geriatric Care","Mental Health Disorders","Holistic Healing","Wellness Medicine","Functional Medicine","Regenerative Medicine","Nutraceuticals","Phytomedicine","Traditional Medicine","Biofeedback Therapy","Energy Healing","Mind-Body Medicine","Acupuncture","Naturopathy","Detoxification","Rejuvenation Therapy","Immunity Boosting","Lifestyle Diseases","Digital Health","Molecular Medicine","Genomic Medicine","Ayushman Bharat","Health Informatics","Epidemiology","Public Health","HealthTech Innovations","Personalized Medicine","Pharmacovigilance","Health Supplements","Probiotics","Gut Health","Neutraceuticals","Herbal Medicine","Plant-Based Medicine","Aromatherapy","Traditional Healing Practices","Ayurvedic Formulations","Unani Formulations","Siddha Treatments","Homeopathic Principles","Homeopathic Potencies","Traditional Healing Herbs","Medicinal Plants","Healing Crystals","Holistic Nutrition","Ayurvedic Detox","Herbal Extracts","Essential Oils","Adaptogenic Herbs","Herbal Tinctures","Ayurvedic Tonics","Ayurvedic Skincare","Herbal Teas","Superfoods","Holistic Wellness","Mindfulness Therapy","Preventive Ayurveda","Rejuvenation Therapies","Balancing Doshas","Dietary Therapy","Herbal Supplements","Traditional Healing Systems","Natural Immunity Boosters","Therapeutic Yoga","Chakra Healing","Marma Therapy","Shirodhara","Udwarthanam","Vasthi Treatment","Ayurvedic Beauty Care","Ayurvedic Weight Management","Disease Prevention","Integrative Healing","Healing Touch Therapy","Vedic Medicine","Herbal Cosmetics","Traditional Chinese Medicine","Ayurvedic Psychiatry","Herbal Adaptogens","Ethnobotany","Ayurvedic Immunomodulators","Ayurvedic Cooking","Siddha Varma Therapy","Homeopathic Prophylaxis","Bioenergetic Medicine"
    "severe", "detox", "holistic","issue","care","issues","care","cure","problems","therapy","diet","mindset","mental health","depression","anti",
    "natural healing", "wellness", "herbs", "traditional medicine","remedies", "alternative therapy","food","immunity","Energy","organic","Wellness","supplements",
    "home remedies", "acupuncture", "ayush", "energy healing", "chakras","help","soluton","discomfort","medicine","problem","ayurvedic","medicines","India","Kerala","reduce","Doctor","stress","symptoms","symptom", "relief"
    "Healthcare","Diagnosis","Treatment","Symptoms","Therapy","Prescription","Pathology","Pharmacology","Clinical Trials","Telemedicine","Integrative Medicine","Alternative Medicine","Immunology","Chronic Diseases","Preventive Healthcare","Doshas","Vata","Pitta","Kapha","Panchakarma","Herbal Remedies","Ayurvedic Diet","Rasayana Therapy","Siddha Medicine","Prakriti Analysis","Ayurvedic Oils","Nadi Pariksha","Shodhana Therapy","Churna","Bhasma","Taila","Kashaya","Ayurvedic Massage","Abhyanga","Swedana","Ayurvedic Herbs","Ashwagandha","Brahmi","Neem","Tulsi","Shatavari","Triphala","Yoga Therapy","Pranayama","Asanas","Meditation","Mudra Therapy","Unani Medicine","Ilaj-bit-Tadbeer","Hijama","Regimental Therapy","Unani Herbs","Kushta","Unani Diet","Unani Diagnosis","Tibb-e-Unani","Siddha Medicine","Siddha Herbs","Vaithiyam","Siddha Maruthuvam","Siddha Oils","Kayakalpa","Pulse Diagnosis","Homeopathy","Homeopathic Remedies","Potentization","Materia Medica","Organon of Medicine","Homeopathic Dilutions","Biochemic Medicine","Similia Similibus Curentur","Disease Management","Infectious Diseases","Chronic Conditions","Autoimmune Disorders","Neurological Disorders","Cardiovascular Diseases","Respiratory Diseases","Gastrointestinal Disorders","Metabolic Disorders","Endocrine Disorders","Musculoskeletal Disorders","Dermatological Diseases","Pediatric Diseases","Geriatric Care","Mental Health Disorders","Holistic Healing","Wellness Medicine","Functional Medicine","Regenerative Medicine","Nutraceuticals","Phytomedicine","Traditional Medicine","Biofeedback Therapy","Energy Healing","Mind-Body Medicine","Acupuncture","Naturopathy","Detoxification","Rejuvenation Therapy","Immunity Boosting","Lifestyle Diseases","Digital Health","Molecular Medicine","Genomic Medicine","Ayushman Bharat","Health Informatics","Epidemiology","Public Health","HealthTech Innovations","Personalized Medicine","Pharmacovigilance ","Health Supplements","Probiotics","Gut Health","Neutraceuticals","Herbal Medicine","Plant-Based Medicine","Aromatherapy","Traditional Healing Practices","Ayurvedic Formulations","Unani Formulations","Siddha Treatments","Homeopathic Principles","Homeopathic Potencies","Traditional Healing Herbs","Medicinal Plants","Healing Crystals","Holistic Nutrition","Ayurvedic Detox","Herbal Extracts","Essential Oils","Adaptogenic Herbs","Herbal Tinctures","Ayurvedic Tonics","Ayurvedic Skincare","Herbal Teas","Superfoods","Holistic Wellness","Mindfulness Therapy","Preventive Ayurveda","Rejuvenation Therapies","Balancing Doshas","Dietary Therapy","Herbal Supplements","Traditional Healing Systems","Natural Immunity Boosters","Therapeutic Yoga","Chakra Healing","Marma Therapy","Shirodhara","Udwarthanam","Vasthi Treatment","Ayurvedic Beauty Care","Ayurvedic Weight Management","Disease Prevention","Integrative Healing","Healing Touch Therapy","Vedic Medicine","Herbal Cosmetics","Traditional Chinese Medicine","Ayurvedic Psychiatry","Herbal Adaptogens","Ethnobotany","Ayurvedic Immunomodulators","Ayurvedic Cooking","Siddha Varma Therapy","Homeopathic Prophylaxis","Bioenergetic Medicine"
    "severe", "detox", "holistic","issue","care","issues","care","cure","problems","therapy","diet","mindset","mental health","depression","anti","headache"
]

def is_ayush_related(user_input):
    """Check if user input is AYUSH-related by analyzing keywords."""
    user_input_lower = user_input.lower()

    # If input has at least one AYUSH-related keyword, return True
    return any(keyword in user_input_lower for keyword in ayush_keywords)

def customLLMBot(user_input, history):
    global messages_prmt

    # Check if the input is AYUSH-related
    if is_ayush_related(user_input):
        messages_prmt.append({"role": "user", "content": user_input})

        response = client.chat.completions.create(
            messages=messages_prmt,
            model="llama3-8b-8192",
        )

        LLM_reply = response.choices[0].message.content
        messages_prmt.append({"role": "assistant", "content": LLM_reply})

        return LLM_reply

    # Fallback response for non-AYUSH queries
    return "I'm here to assist you with AYUSH-related topics such as Ayurveda, Yoga, Naturopathy, Unani, Siddha, and Homeopathy. Please ask about holistic wellness, herbal remedies, or traditional healing methods."
import gradio as gr

# Define the chatbot interface
chatbot_interface = gr.ChatInterface(
    customLLMBot,
    chatbot=gr.Chatbot(height=300),  # Increased Chatbot box height
    textbox=gr.Textbox(placeholder="✨ Ask me a question related to AYUSH 🌿"),
    title="✨ Vedica-AYUSH Assistant🌿",
    description="🌱 Welcome to VedAyu! I’m your personal AYUSH assistant, here to guide you on Ayurveda, Yoga, Naturopathy, Unani, Siddha, and Homeopathy. Ask me anything about holistic wellness, herbal remedies, yoga practices, diet tips, or traditional healing methods. How can I assist you on your wellness journey today?🌿",
    theme="soft",
    examples=["🙏 Namaste", "🧘‍♂️ Suggest a remedy for back pain", "🌱 Would you like more home remedies or yoga poses for relief?"],
    submit_btn=True
)

# Custom CSS for an AYUSH-based theme with natural colors
chatbot_interface.css = """
body {
    background-color: #e6ffe6;  /* Soft herbal green background */
    font-family: 'Merriweather', serif; /* Traditional and elegant font */
    margin: 0;
    padding: 0;
    color: #2d6a4f; /* Deep green text for nature-inspired look */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    text-align: center;
}

/* Navigation Bar */
.navbar {
    background-color: #1b4332;  /* Dark herbal green */
    color: white;
    padding: 15px 20px;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    letter-spacing: 1px;
    width: 100%;
}

/* Main Content */
.main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 80vh;
    text-align: center;
    width: 100%;
}

/* Chatbox Styling */
.gradio-container {
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0px 6px 20px rgba(0, 0, 0, 0.2);
    width: 90%;  /* Increased width for better layout */
    max-width: 600px;
    margin: auto;
    font-size: 18px; /* Slightly larger text for readability */
    font-weight: 500;
    border: 2px solid #a3b18a; /* Subtle green border */
}

/* Footer */
.footer {
    background-color: #1b4332;
    color: white;
    text-align: center;
    padding: 10px;
    position: fixed;
    bottom: 0;
    width: 100%;
    font-size: 15px;
    font-weight: bold;
}
"""
chatbot_interface.launch(share=True)